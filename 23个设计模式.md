# 设计模式
## **_设计模式（Design pattern）是一套被反复使用、多数人知晓的代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 _**
### 方法思想
1. 开闭原则：Software entities should be open for extension,but closed for modification。不修改原代码的情况下进行扩展。开闭原则具有理想主义的色彩，它是面向对象设计的终极目标。其他几条，则可以看做是开闭原则的实现方法。
2. 单一职责原则：一个类，只有一个引起它变化的原因。应该只有一个职责。遵守单一职责原则，你可以认为就是将不同的职责封装到不同的类或模块中。案例无，用于架构系统，定义类的时候，遵循规则。
3. 里氏代换原则：任何基类可以出现的地方，子类一定可以出现。它描述基类与派生类的关系。意即：如果调用的是父类方法的话，那么换成子类也完全可以运行。如果违反这一原则，则需要对基类和子类重构，抽象类作为两者的超类。或者b继承于a，改为委派关系。
4. 依赖倒转原则：程序要依赖于抽象接口，不要依赖于具体实现。一般情况下抽象的变化概率很小，让用户程序依赖于抽象，实现的细节也依赖于抽象。即使实现细节不断变动，只要抽象不变，客户程序就不需要变化。这大大降低了客户程序与实现细节的耦合度。
[参考百度文库资料](http://baike.baidu.com/view/2503920.htm?fromtitle=%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99&fromid=7706090&type=syn)
简言之，抽象类为具体类的超类，尽量使用抽象类声明。
5. 接口隔离原则：客户端不应该依赖它不需要的接口；一个类对另一个类的依赖应该建立在最小的接口上。使用多个专门的接口比使用单一的总接口要好。（一个类继承多个接口，一个接口一个用途，代表一个角色，不要将不同角色交给一个接口。）
6. 合成/聚合复用:合成/聚合复用原则就是在一个新的对象里面使用一些已有的对象，使之成为新对象的一部分；新的对象通过向这些对象的委派达到复用已有功能的目的。它的设计原则是：要尽量使用合成/聚合，尽量不要使用继承。
7. 最少知识原则:迪米特法则，即:talk only to your immediate friends.迪米特法则不希望类之间建立直接的联系。如果真的有需要建立联系，也希望能通过它的友元类来转达。因此，应用迪米特法则有可能造成的一个后果就是：系统中存在大量的中介类，这些类之所以存在完全是为了传递类之间的相互调用关系.设计模式的门面模式（Facade）和中介模式（Mediator），都是迪米特法则应用的例子。

**总结：对抽象类，对继承，对接口的使用很重要。对以上原则的理解，需要在工作中，遇上代码修改时，以难易程度来领会为什么提出以上原则。**

### 23种设计模式
创建型模式：单例模式、抽象工厂模式、建造者模式、工厂模式、原型模式。<br />
结构型模式：适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式。<br />
行为型模式：模版方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式（Interpreter模式）、状态模式、策略模式、职责链模式(责任链模式)、访问者模式。<br />
参考文章[iOS开发：设计模式那点事](http://www.cocoachina.com/ios/20141111/10187.html)

1. 单例模式<br />
概念：整个应用或系统只能有该类的一个实例
体现原则：单一职责原则。ps：减少了内存使用。
用法用途：最常见的莫过于对硬件参数的访问类，比如UIAccelerometer。
使用步骤：a.声明一个静态类变量＝类实例对象。b.声明一个静态类方法，返回类的实例对象。c.实现类的静态类方法，返回类的实例对象，注意多线程开发，导致此处ios开发常用到gcd的dispatch_once函数。

### 关于iOS六大基本设计模式
1. MVC模式
2. Delegation，即委托模式。[参考](http://www.mamicode.com/info-detail-852421.html)
3. Target-action
4. Protocol
5. notification
6. declared properties
